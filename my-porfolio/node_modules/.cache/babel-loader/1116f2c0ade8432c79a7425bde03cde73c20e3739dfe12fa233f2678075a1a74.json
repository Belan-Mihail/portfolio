{"ast":null,"code":"import axios from 'axios';\nconst apiClient = axios.create({\n  baseURL: process.env.NODE_ENV === 'development' ? 'http://localhost:4000/' : '/',\n  headers: {\n    'Content-type': 'application/json'\n  }\n});\napiClient.interceptors.request.use(async config => {\n  // ii in localStorage exist userInfo\n  if (localStorage.getItem('userInfo'))\n    // we add config.headers.authorization new value = Bearer and token\n    config.headers.authorization = `Bearer ${JSON.parse(localStorage.getItem('userInfo')).token}`;\n  return config;\n},\n// second parametr error\nerror => {\n  Promise.reject(error);\n});\nexport default apiClient;","map":{"version":3,"names":["axios","apiClient","create","baseURL","process","env","NODE_ENV","headers","interceptors","request","use","config","localStorage","getItem","authorization","JSON","parse","token","error","Promise","reject"],"sources":["C:/Users/bilan/Desktop/vs code/react/my-own/my-portfolio/my-porfolio/src/apiClient.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst apiClient = axios.create({\r\n  baseURL:\r\n    process.env.NODE_ENV === 'development' ? 'http://localhost:4000/' : '/',\r\n  headers: {\r\n    'Content-type': 'application/json',\r\n  },\r\n})\r\n\r\napiClient.interceptors.request.use(\r\n  async (config) => {\r\n    // ii in localStorage exist userInfo\r\n    if (localStorage.getItem('userInfo'))\r\n      // we add config.headers.authorization new value = Bearer and token\r\n      config.headers.authorization = `Bearer ${\r\n        JSON.parse(localStorage.getItem('userInfo')!).token\r\n      }`\r\n    return config\r\n  },\r\n  // second parametr error\r\n  (error) => {\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default apiClient"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAM,CAAC;EAC7BC,OAAO,EACLC,OAAO,CAACC,GAAG,CAACC,QAAQ,KAAK,aAAa,GAAG,wBAAwB,GAAG,GAAG;EACzEC,OAAO,EAAE;IACP,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAEFN,SAAS,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAChC,MAAOC,MAAM,IAAK;EAChB;EACA,IAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IAClC;IACAF,MAAM,CAACJ,OAAO,CAACO,aAAa,GAAG,UAC7BC,IAAI,CAACC,KAAK,CAACJ,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE,CAAC,CAACI,KAAK,EACnD;EACJ,OAAON,MAAM;AACf,CAAC;AACD;AACCO,KAAK,IAAK;EACTC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AACvB,CACF,CAAC;AAED,eAAejB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}