{"ast":null,"code":"import axios from'axios';const apiClient=axios.create({baseURL:process.env.NODE_ENV==='development'?'http://localhost:4000/':'/',headers:{'Content-type':'application/json'}});apiClient.interceptors.request.use(async config=>{// ii in localStorage exist userInfo\nif(localStorage.getItem('userInfo'))// we add config.headers.authorization new value = Bearer and token\nconfig.headers.authorization=\"Bearer \".concat(JSON.parse(localStorage.getItem('userInfo')).token);return config;},// second parametr error\nerror=>{Promise.reject(error);});export default apiClient;","map":{"version":3,"names":["axios","apiClient","create","baseURL","process","env","NODE_ENV","headers","interceptors","request","use","config","localStorage","getItem","authorization","concat","JSON","parse","token","error","Promise","reject"],"sources":["C:/Users/bilan/Desktop/vs code/react/my-own/my-portfolio/my-porfolio/src/apiClient.ts"],"sourcesContent":["import axios from 'axios'\r\n\r\nconst apiClient = axios.create({\r\n  baseURL:\r\n    process.env.NODE_ENV === 'development' ? 'http://localhost:4000/' : '/',\r\n  headers: {\r\n    'Content-type': 'application/json',\r\n  },\r\n})\r\n\r\napiClient.interceptors.request.use(\r\n  async (config) => {\r\n    // ii in localStorage exist userInfo\r\n    if (localStorage.getItem('userInfo'))\r\n      // we add config.headers.authorization new value = Bearer and token\r\n      config.headers.authorization = `Bearer ${\r\n        JSON.parse(localStorage.getItem('userInfo')!).token\r\n      }`\r\n    return config\r\n  },\r\n  // second parametr error\r\n  (error) => {\r\n    Promise.reject(error)\r\n  }\r\n)\r\n\r\nexport default apiClient"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,SAAS,CAAGD,KAAK,CAACE,MAAM,CAAC,CAC7BC,OAAO,CACLC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,aAAa,CAAG,wBAAwB,CAAG,GAAG,CACzEC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEFN,SAAS,CAACO,YAAY,CAACC,OAAO,CAACC,GAAG,CAChC,KAAO,CAAAC,MAAM,EAAK,CAChB;AACA,GAAIC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,CAClC;AACAF,MAAM,CAACJ,OAAO,CAACO,aAAa,WAAAC,MAAA,CAC1BC,IAAI,CAACC,KAAK,CAACL,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE,CAAC,CAACK,KAAK,CACnD,CACJ,MAAO,CAAAP,MAAM,CACf,CAAC,CACD;AACCQ,KAAK,EAAK,CACTC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC,CACvB,CACF,CAAC,CAED,cAAe,CAAAlB,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}