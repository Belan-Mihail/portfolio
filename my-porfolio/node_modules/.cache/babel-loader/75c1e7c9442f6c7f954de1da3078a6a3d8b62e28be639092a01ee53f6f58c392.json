{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bilan\\\\Desktop\\\\vs code\\\\react\\\\my-own\\\\my-portfolio\\\\my-porfolio\\\\src\\\\Store.tsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\n\n// const colorMode = ['dark', 'ligth', 'green', 'yellow', 'red']\n// function random () {\n//     let random = Math.floor(Math.random() * colorMode.length)\n//     return random\n// }\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  // with this we keep user auth after login\n  userInfo: localStorage.getItem(\"userInfo\") ? JSON.parse(localStorage.getItem(\"userInfo\")) : null\n  //   mode: localStorage.getItem(\"mode\")\n  //     ? localStorage.getItem(\"mode\")!\n  //     : colorMode[random()],\n};\nfunction reducer(state, action) {\n  switch (action.type) {\n    //  case 'SWITCH_MODE':\n    //    return {mode: colorMode[random()]}\n    case 'USER_SIGNIN':\n      return {\n        ...state,\n        userInfo: action.payload\n      };\n    case 'USER_SIGNOUT':\n      // we clear all data. because we dont put in return state userInfo it will be null\n      return {};\n    default:\n      return state;\n  }\n}\nconst defaultDispatch = () => initialState;\nconst Store = /*#__PURE__*/React.createContext({\n  state: initialState,\n  dispatch: defaultDispatch\n});\n\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction StoreProvider(props) {\n  _s();\n  const [state, dispatch] = React.useReducer(reducer, initialState);\n  return /*#__PURE__*/_jsxDEV(Store.Provider, {\n    value: {\n      state,\n      dispatch\n    },\n    ...props\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 12\n  }, this);\n}\n_s(StoreProvider, \"6JWkGZ32UPfojeNx+xqn8ZU8A0Q=\");\n_c = StoreProvider;\nexport { Store, StoreProvider };\nvar _c;\n$RefreshReg$(_c, \"StoreProvider\");","map":{"version":3,"names":["React","jsxDEV","_jsxDEV","initialState","userInfo","localStorage","getItem","JSON","parse","reducer","state","action","type","payload","defaultDispatch","Store","createContext","dispatch","StoreProvider","props","_s","useReducer","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/bilan/Desktop/vs code/react/my-own/my-portfolio/my-porfolio/src/Store.tsx"],"sourcesContent":["import React from \"react\";\r\nimport { UserInfo } from \"./types/UserInfo\";\r\n\r\n// const colorMode = ['dark', 'ligth', 'green', 'yellow', 'red']\r\n// function random () {\r\n//     let random = Math.floor(Math.random() * colorMode.length)\r\n//     return random\r\n// }\r\n\r\ntype AppState = {\r\n  //   mode: string;\r\n  userInfo?: UserInfo;\r\n};\r\n\r\nconst initialState: AppState = {\r\n  // with this we keep user auth after login\r\n  userInfo: localStorage.getItem(\"userInfo\")\r\n    ? JSON.parse(localStorage.getItem(\"userInfo\")!)\r\n    : null,\r\n  //   mode: localStorage.getItem(\"mode\")\r\n  //     ? localStorage.getItem(\"mode\")!\r\n  //     : colorMode[random()],\r\n};\r\n\r\ntype Action = \r\n// | { type: 'SWITCH_MODE'}\r\n| {type: 'USER_SIGNIN'; payload: UserInfo}\r\n| { type: 'USER_SIGNOUT' }\r\n\r\nfunction reducer(state:AppState, action:Action):AppState {\r\n  switch(action.type){\r\n//  case 'SWITCH_MODE':\r\n//    return {mode: colorMode[random()]}\r\n    case 'USER_SIGNIN':\r\n      return {...state, userInfo: action.payload }\r\n      case 'USER_SIGNOUT':\r\n        // we clear all data. because we dont put in return state userInfo it will be null\r\n      return {}\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nconst defaultDispatch: React.Dispatch<Action> = () => initialState\r\n\r\nconst Store = React.createContext({\r\n    state: initialState,\r\n    dispatch: defaultDispatch\r\n})\r\n\r\n// eslint-disable-next-line @typescript-eslint/ban-types\r\nfunction StoreProvider(props: React.PropsWithChildren<{}>) {\r\n    const [state, dispatch] = React.useReducer<React.Reducer<AppState, Action>>(reducer, initialState)\r\n    return <Store.Provider value={{ state, dispatch }} {...props} />\r\n}\r\n\r\nexport { Store, StoreProvider }"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;;AAGzB;AACA;AACA;AACA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAOA,MAAMC,YAAsB,GAAG;EAC7B;EACAC,QAAQ,EAAEC,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC,GACtCC,IAAI,CAACC,KAAK,CAACH,YAAY,CAACC,OAAO,CAAC,UAAU,CAAE,CAAC,GAC7C;EACJ;EACA;EACA;AACF,CAAC;AAOD,SAASG,OAAOA,CAACC,KAAc,EAAEC,MAAa,EAAW;EACvD,QAAOA,MAAM,CAACC,IAAI;IACpB;IACA;IACI,KAAK,aAAa;MAChB,OAAO;QAAC,GAAGF,KAAK;QAAEN,QAAQ,EAAEO,MAAM,CAACE;MAAQ,CAAC;IAC5C,KAAK,cAAc;MACjB;MACF,OAAO,CAAC,CAAC;IACX;MACE,OAAOH,KAAK;EAChB;AACF;AAEA,MAAMI,eAAuC,GAAGA,CAAA,KAAMX,YAAY;AAElE,MAAMY,KAAK,gBAAGf,KAAK,CAACgB,aAAa,CAAC;EAC9BN,KAAK,EAAEP,YAAY;EACnBc,QAAQ,EAAEH;AACd,CAAC,CAAC;;AAEF;AACA,SAASI,aAAaA,CAACC,KAAkC,EAAE;EAAAC,EAAA;EACvD,MAAM,CAACV,KAAK,EAAEO,QAAQ,CAAC,GAAGjB,KAAK,CAACqB,UAAU,CAAkCZ,OAAO,EAAEN,YAAY,CAAC;EAClG,oBAAOD,OAAA,CAACa,KAAK,CAACO,QAAQ;IAACC,KAAK,EAAE;MAAEb,KAAK;MAAEO;IAAS,CAAE;IAAA,GAAKE;EAAK;IAAAK,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;AACpE;AAACP,EAAA,CAHQF,aAAa;AAAAU,EAAA,GAAbV,aAAa;AAKtB,SAASH,KAAK,EAAEG,aAAa;AAAE,IAAAU,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}